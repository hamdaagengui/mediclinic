<?xml version="1.0" encoding="UTF-8"  ?>
<!-- Created with iReport - A designer for JasperReports -->
<!DOCTYPE jasperReport PUBLIC "//JasperReports//DTD Report Design//EN" "http://jasperreports.sourceforge.net/dtds/jasperreport.dtd">
<jasperReport
		 name="subreport_calendar_landscape"
		 columnCount="7"
		 printOrder="Horizontal"
		 orientation="Landscape"
		 pageWidth="782"
		 pageHeight="595"
		 columnWidth="111"
		 columnSpacing="0"
		 leftMargin="0"
		 rightMargin="0"
		 topMargin="0"
		 bottomMargin="0"
		 whenNoDataType="NoPages"
		 isFloatColumnFooter="true"
		 isTitleNewPage="false"
		 isSummaryNewPage="false">
	<property name="ireport.scriptlethandling" value="0" />
	<property name="ireport.encoding" value="UTF-8" />
	<import value="java.util.*" />
	<import value="net.sf.jasperreports.engine.*" />
	<import value="net.sf.jasperreports.engine.data.*" />

	<parameter name="startdate" isForPrompting="true" class="java.lang.String">
		<parameterDescription><![CDATA[The start date in the 'yyyymmdd' format]]></parameterDescription>
		<defaultValueExpression ><![CDATA["20100101"]]></defaultValueExpression>
	</parameter>
	<parameter name="enddate" isForPrompting="true" class="java.lang.String">
		<parameterDescription><![CDATA[The end date in the 'yyyymmdd' format]]></parameterDescription>
		<defaultValueExpression ><![CDATA["20100131"]]></defaultValueExpression>
	</parameter>
	<parameter name="LANGUAGE" isForPrompting="true" class="java.lang.String">
		<parameterDescription><![CDATA[the  ORACLE NLS_LANGUAGE 

 AMERICAN
 BULGARIAN
 CATALAN
 CROATIAN
 CZECH
 DANISH
 DUTCH
 ENGLISH
 ESTONIAN
 FRENCH
 GERMAN
 GREEK
 HEBREW  
 HUNGARIAN
 ICELANDIC
 INDONESIAN
 ITALIAN
 JAPANESE
 KOREAN
 LATVIAN
 LITHUANIAN
 MALAY  
 NORWEGIAN
 POLISH
 PORTUGUESE
 ROMANIAN  
 RUSSIAN
 SLOVAK
 SLOVENIAN  
 SPANISH
 SWEDISH
 THAI  
 TURKISH
 UKRAINIAN
 VIETNAMESE
]]></parameterDescription>
		<defaultValueExpression ><![CDATA["ENGLISH"]]></defaultValueExpression>
	</parameter>
	<parameter name="string_month" isForPrompting="true" class="java.lang.String">
		<defaultValueExpression ><![CDATA["GEN"]]></defaultValueExpression>
	</parameter>
	<parameter name="numeric_year" isForPrompting="true" class="java.lang.String">
		<defaultValueExpression ><![CDATA["2010"]]></defaultValueExpression>
	</parameter>
	<parameter name="numeric_month" isForPrompting="true" class="java.lang.String">
		<defaultValueExpression ><![CDATA["01"]]></defaultValueExpression>
	</parameter>
	<queryString><![CDATA[SELECT date_format(cal_date,'%Y%m%d') STRING_DATE,
       DATE_FORMAT(cal_date,'%d') numeric_day,
       DATE_FORMAT(cal_date,'%m') numeric_month,
       DATE_FORMAT(cal_date,'%Y') numeric_year,
       DATE_FORMAT(cal_date,'%M') string_month,
       DATE_FORMAT(cal_date,'%W') string_day,
       case
           when  DATE_FORMAT(cal_date,'%w') = 0 then 1
           else 0
       end as sunday
FROM
calendar
where cal_date between $P{startdate} and $P{enddate}
order by numeric_year, numeric_month, numeric_day]]></queryString>

	<field name="STRING_DATE" class="java.lang.String"/>
	<field name="NUMERIC_DAY" class="java.lang.String"/>
	<field name="NUMERIC_MONTH" class="java.lang.String"/>
	<field name="NUMERIC_YEAR" class="java.lang.String"/>
	<field name="STRING_DAY" class="java.lang.String"/>
	<field name="SUNDAY" class="java.math.BigDecimal"/>

		<background>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</background>
		<title>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</title>
		<pageHeader>
			<band height="44"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="0"
						y="0"
						width="782"
						height="40"
						key="textField-1"/>
					<box topBorder="2Point" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="2Point" bottomBorderColor="#000000"/>
					<textElement textAlignment="Center" verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="18" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$P{string_month}+" - "+$P{numeric_year}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						x="759"
						y="1"
						width="23"
						height="39"
						key="textField-5"/>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Center" verticalAlignment="Middle" rotation="Left">
						<font size="9"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA["(by slow)"]]></textFieldExpression>
				</textField>
			</band>
		</pageHeader>
		<columnHeader>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnHeader>
		<detail>
			<band height="82"  isSplitAllowed="true" >
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Opaque"
						x="6"
						y="0"
						width="100"
						height="77"
						backcolor="#CCCCCC"
						key="textField-4">
							<printWhenExpression><![CDATA[new Boolean(
	$F{SUNDAY}.intValue()==1 
&&
($P{numeric_year}+$P{numeric_month}).equals($F{NUMERIC_YEAR}+$F{NUMERIC_MONTH})
)]]></printWhenExpression>
						</reportElement>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" leftPadding="5" rightBorder="Thin" rightBorderColor="#000000" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="16" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[""]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Transparent"
						x="6"
						y="0"
						width="100"
						height="77"
						key="textField-2">
							<printWhenExpression><![CDATA[new Boolean(($P{numeric_year}+$P{numeric_month}).equals($F{NUMERIC_YEAR}+$F{NUMERIC_MONTH}))]]></printWhenExpression>
						</reportElement>
					<box topBorder="Thin" topBorderColor="#000000" leftBorder="Thin" leftBorderColor="#000000" leftPadding="5" rightBorder="Thin" rightBorderColor="#000000" bottomBorder="Thin" bottomBorderColor="#000000"/>
					<textElement verticalAlignment="Middle">
						<font pdfFontName="Helvetica-Bold" size="16" isBold="true"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{NUMERIC_DAY}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="false" isBlankWhenNull="false" evaluationTime="Now" hyperlinkType="None"  hyperlinkTarget="Self" >
					<reportElement
						mode="Transparent"
						x="24"
						y="0"
						width="80"
						height="25"
						key="textField-3">
							<printWhenExpression><![CDATA[new Boolean(($P{numeric_year}+$P{numeric_month}).equals($F{NUMERIC_YEAR}+$F{NUMERIC_MONTH}))]]></printWhenExpression>
						</reportElement>
					<box topBorder="None" topBorderColor="#000000" leftBorder="None" leftBorderColor="#000000" rightBorder="None" rightBorderColor="#000000" rightPadding="5" bottomBorder="None" bottomBorderColor="#000000"/>
					<textElement textAlignment="Right" verticalAlignment="Middle">
						<font size="10"/>
					</textElement>
				<textFieldExpression   class="java.lang.String"><![CDATA[$F{STRING_DAY}]]></textFieldExpression>
				</textField>
				<line direction="TopDown">
					<reportElement
						x="10"
						y="25"
						width="21"
						height="0"
						key="line-1">
							<printWhenExpression><![CDATA[new Boolean(($P{numeric_year}+$P{numeric_month}).equals($F{NUMERIC_YEAR}+$F{NUMERIC_MONTH}))]]></printWhenExpression>
						</reportElement>
					<graphicElement stretchType="NoStretch"/>
				</line>
				<line direction="TopDown">
					<reportElement
						x="10"
						y="54"
						width="21"
						height="0"
						key="line-2">
							<printWhenExpression><![CDATA[new Boolean(($P{numeric_year}+$P{numeric_month}).equals($F{NUMERIC_YEAR}+$F{NUMERIC_MONTH}))]]></printWhenExpression>
						</reportElement>
					<graphicElement stretchType="NoStretch"/>
				</line>
			</band>
		</detail>
		<columnFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</columnFooter>
		<pageFooter>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</pageFooter>
		<summary>
			<band height="0"  isSplitAllowed="true" >
			</band>
		</summary>
</jasperReport>
